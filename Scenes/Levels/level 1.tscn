[gd_scene load_steps=31 format=4 uid="uid://do0ugn3rey8xx"]

[ext_resource type="Texture2D" uid="uid://cx32oallnwaao" path="res://assets/env/tilest.png" id="1_fg4ri"]
[ext_resource type="Texture2D" uid="uid://xh6w7jeco6tn" path="res://assets/env/back.png" id="2_hkyfo"]
[ext_resource type="PackedScene" uid="uid://csts38tpqne8b" path="res://Scenes/player and monsters scenes/player.tscn" id="3_nle31"]
[ext_resource type="PackedScene" uid="uid://cnmxyvgwn2ib" path="res://Scenes/player and monsters scenes/enemy.tscn" id="4_vtplq"]
[ext_resource type="PackedScene" uid="uid://cp5ycbv6cw06f" path="res://Scenes/key.tscn" id="5_jshm2"]
[ext_resource type="PackedScene" uid="uid://bbf26dkp3e63v" path="res://Scenes/ExitDoor.tscn" id="6_4smpp"]
[ext_resource type="Script" uid="uid://cb4wy0fnvassy" path="res://Script/gameplay scripts/exitDOOR.gd" id="6_nle31"]
[ext_resource type="PackedScene" uid="uid://bmqo7o1fg6gem" path="res://Scenes/battery_pickup.tscn" id="7_ytnnu"]
[ext_resource type="Texture2D" uid="uid://bq3sdvd0dv48n" path="res://assets/Characters/light and battery.png" id="8_47kie"]
[ext_resource type="PackedScene" uid="uid://dvnucepnaql6q" path="res://Scenes/box.tscn" id="9_qk7kj"]
[ext_resource type="Texture2D" uid="uid://beqdybpmj8e56" path="res://assets/env/new env.png" id="10_hkyfo"]
[ext_resource type="PackedScene" uid="uid://crwtwcpeusnn2" path="res://Scenes/BOSSES/BOSS1.tscn" id="12_vtplq"]
[ext_resource type="PackedScene" uid="uid://k04e3deijog5" path="res://Scenes/elments Scens/wood.tscn" id="13_jshm2"]
[ext_resource type="PackedScene" uid="uid://d2y5mvlsm835v" path="res://Scenes/elments Scens/metal.tscn" id="14_4smpp"]
[ext_resource type="PackedScene" uid="uid://d5clc3kt23k3" path="res://Scenes/elments Scens/gold.tscn" id="15_ytnnu"]
[ext_resource type="PackedScene" uid="uid://bjpy7y8fhkby1" path="res://Scenes/elments Scens/blood.tscn" id="16_47kie"]
[ext_resource type="PackedScene" uid="uid://cfv4vhxy5vvus" path="res://Scenes/elments Scens/bones.tscn" id="17_k8npu"]
[ext_resource type="PackedScene" uid="uid://kmotcsv18wy0" path="res://Scenes/elments Scens/coal.tscn" id="18_va5fq"]
[ext_resource type="PackedScene" uid="uid://8so82q1g0yu6" path="res://Scenes/elments Scens/crystal.tscn" id="19_nnlwv"]
[ext_resource type="PackedScene" uid="uid://cnfagaoukdgwu" path="res://Scenes/elments Scens/rope.tscn" id="20_iyjjv"]
[ext_resource type="PackedScene" uid="uid://duwt0ypbdygpp" path="res://Scenes/elments Scens/stone.tscn" id="21_i78oj"]
[ext_resource type="PackedScene" uid="uid://dw68iuf2g07" path="res://Scenes/traps/spike.tscn" id="22_va5fq"]
[ext_resource type="PackedScene" uid="uid://cgto2ikthcj3v" path="res://Scenes/traps/poison trap.tscn" id="23_nnlwv"]
[ext_resource type="Texture2D" uid="uid://cxbq6ve4ybqrm" path="res://assets/env/Layer 20.png" id="24_iyjjv"]
[ext_resource type="PackedScene" uid="uid://b7wq7gwd751du" path="res://Scenes/traps/tornado.tscn" id="25_i78oj"]
[ext_resource type="PackedScene" uid="uid://bvy4q6ptfhsob" path="res://Scenes/traps/lizer.tscn" id="26_1gd2w"]
[ext_resource type="PackedScene" uid="uid://bhcshbd3ry6oe" path="res://Scenes/traps/lights.tscn" id="27_rxagx"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fg4ri"]
texture = ExtResource("1_fg4ri")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:1/0 = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
5:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:3/0 = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:3/0 = 0
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:3/0 = 0
5:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_bex1k"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 7
physics_layer_0/collision_mask = 7
sources/0 = SubResource("TileSetAtlasSource_fg4ri")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vtplq"]
size = Vector2(84.644, 52.0161)

[node name="Level1" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(-54, 228)
tile_map_data = PackedByteArray("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AAD+//v/AAADAAEAAAD///v/AAAEAAEAAAAAAPv/AAABAAEAAAABAPv/AAACAAEAAAACAPv/AAADAAEAAAADAPv/AAAEAAEAAAAEAPv/AAABAAEAAAAFAPv/AAACAAEAAAAGAPv/AAADAAEAAAAHAPv/AAAEAAEAAAAIAPv/AAABAAEAAAAJAPv/AAACAAEAAAAKAPv/AAADAAEAAAALAPv/AAAEAAEAAAAMAPv/AAABAAEAAAANAPv/AAACAAEAAAAOAPv/AAADAAEAAAAPAPv/AAAEAAEAAAAQAPv/AAABAAEAAAARAPv/AAACAAEAAAASAPv/AAADAAEAAAATAPv/AAAEAAEAAAAUAPv/AAABAAEAAAAVAPv/AAACAAEAAAAWAPv/AAADAAEAAAAXAPv/AAAEAAEAAAAYAPv/AAABAAEAAAAZAPv/AAACAAEAAAAaAPv/AAADAAEAAAAbAPv/AAAEAAEAAAAcAPv/AAABAAEAAAAdAPv/AAACAAEAAAAeAPv/AAADAAEAAAAfAPv/AAAEAAEAAAAgAPv/AAABAAEAAAAhAPv/AAACAAEAAAAiAPv/AAADAAEAAAAjAPv/AAAEAAEAAAAkAPv/AAABAAEAAAAlAPv/AAACAAEAAAAmAPv/AAADAAEAAAAnAPv/AAAEAAEAAAAoAPv/AAABAAEAAAApAPv/AAACAAEAAAAqAPv/AAADAAEAAAArAPv/AAAEAAEAAAA=")
tile_set = SubResource("TileSet_bex1k")

[node name="Back" type="Sprite2D" parent="."]
z_index = -18
position = Vector2(517, 359)
scale = Vector2(0.882292, 0.475781)
texture = ExtResource("2_hkyfo")

[node name="Back2" type="Sprite2D" parent="Back"]
modulate = Color(0.00145246, 0.00225486, 3.76021e-10, 1)
z_index = -20
position = Vector2(61.2043, -376.223)
scale = Vector2(1.44156, 2.05911)
texture = ExtResource("2_hkyfo")

[node name="Player" parent="." instance=ExtResource("3_nle31")]
position = Vector2(355, 305)

[node name="enemy" parent="." instance=ExtResource("4_vtplq")]
position = Vector2(85, 365)
attack_cooldown = 0.5

[node name="Key" parent="." instance=ExtResource("5_jshm2")]
position = Vector2(788, 381)

[node name="EXIT" type="Area2D" parent="."]
position = Vector2(488, 85)
scale = Vector2(1.39998, 1.24)
script = ExtResource("6_nle31")

[node name="CollisionShape2D" type="CollisionShape2D" parent="EXIT"]
position = Vector2(1.60715, -1.41129)
shape = SubResource("RectangleShape2D_vtplq")
debug_color = Color(0.878425, 0.000383121, 0.827434, 0.42)

[node name="Door" parent="." instance=ExtResource("6_4smpp")]
position = Vector2(488, 85)
scale = Vector2(1.39998, 1.24)

[node name="Battery Pickup" parent="." instance=ExtResource("7_ytnnu")]
position = Vector2(714, 298)

[node name="light" type="Sprite2D" parent="."]
position = Vector2(718, 322)
texture = ExtResource("8_47kie")
region_enabled = true
region_rect = Rect2(25.419, 4.11713, 14.8513, 19.6339)

[node name="Box" parent="." instance=ExtResource("9_qk7kj")]
z_index = 10
position = Vector2(1016, 314)

[node name="Portal" type="Sprite2D" parent="."]
position = Vector2(362, 320)
scale = Vector2(1.67059, 1.67059)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(170.609, 0, 112.391, 85.7022)

[node name="NewEnv2" type="Sprite2D" parent="Portal"]
position = Vector2(68.838, 40.1056)
scale = Vector2(0.598591, 0.598591)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(118.232, 72.4319, 23.8973, 23.5787)

[node name="NewEnv5" type="Sprite2D" parent="Portal"]
position = Vector2(568.063, -125.105)
scale = Vector2(0.598591, 0.598591)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(118.232, 72.4319, 23.8973, 23.5787)

[node name="NewEnv3" type="Sprite2D" parent="Portal"]
position = Vector2(-369.331, -120.317)
scale = Vector2(0.598591, 0.598591)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(118.232, 72.4319, 23.8973, 23.5787)

[node name="NewEnv6" type="Sprite2D" parent="Portal"]
position = Vector2(-387.288, 171.197)
scale = Vector2(0.598591, 0.598591)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(118.232, 72.4319, 23.8973, 23.5787)

[node name="NewEnv4" type="Sprite2D" parent="Portal"]
position = Vector2(554.894, 160.422)
scale = Vector2(0.598591, 0.598591)
texture = ExtResource("10_hkyfo")
region_enabled = true
region_rect = Rect2(118.232, 72.4319, 23.8973, 23.5787)

[node name="Node" parent="." groups=["boss", "enemy"] instance=ExtResource("12_vtplq")]
position = Vector2(1057, 422)

[node name="wood" parent="." instance=ExtResource("13_jshm2")]
position = Vector2(467, 473)

[node name="Metal" parent="." instance=ExtResource("14_4smpp")]
position = Vector2(740, 566)

[node name="Gold" parent="." instance=ExtResource("15_ytnnu")]
position = Vector2(-198, 294)

[node name="Blood" parent="." instance=ExtResource("16_47kie")]
position = Vector2(-235, 476)

[node name="Bones" parent="." instance=ExtResource("17_k8npu")]
position = Vector2(-80, 560)

[node name="Coal" parent="." instance=ExtResource("18_va5fq")]
position = Vector2(-237, 609)

[node name="Crystal" parent="." instance=ExtResource("19_nnlwv")]
position = Vector2(308, 500)

[node name="Rope" parent="." instance=ExtResource("20_iyjjv")]
position = Vector2(48, 572)

[node name="Stone" parent="." instance=ExtResource("21_i78oj")]
position = Vector2(-57, 384)

[node name="Spike" parent="." groups=["traps"] instance=ExtResource("22_va5fq")]
position = Vector2(962, 384)

[node name="Spike2" parent="." groups=["traps"] instance=ExtResource("22_va5fq")]
position = Vector2(926, 385)

[node name="Spike3" parent="." groups=["traps"] instance=ExtResource("22_va5fq")]
position = Vector2(926, 419)

[node name="Spike4" parent="." groups=["traps"] instance=ExtResource("22_va5fq")]
position = Vector2(965, 418)
damage_amount = 500
slow_percentage = 9.01

[node name="PoisonTrap" parent="." groups=["traps"] instance=ExtResource("23_nnlwv")]
position = Vector2(504, 252)
scale = Vector2(1.32, 1.24)

[node name="PoisonTrap2" parent="." groups=["traps"] instance=ExtResource("23_nnlwv")]
position = Vector2(544, 284)

[node name="PoisonTrap3" parent="." groups=["traps"] instance=ExtResource("23_nnlwv")]
position = Vector2(433, 247)

[node name="Layer20" type="Sprite2D" parent="."]
position = Vector2(452, 311)
texture = ExtResource("24_iyjjv")
region_enabled = true
region_rect = Rect2(231.322, 37.2698, 39.0933, 35.3772)

[node name="StaticBody2D" type="StaticBody2D" parent="Layer20"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Layer20/StaticBody2D"]
polygon = PackedVector2Array(0, -13, 4, -13, 7, -12, 10, 9, -8, 8, -4, -11)

[node name="Layer21" type="Sprite2D" parent="Layer20"]
position = Vector2(-189, 0)
texture = ExtResource("24_iyjjv")
region_enabled = true
region_rect = Rect2(231.322, 37.2698, 39.0933, 35.3772)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Layer20/Layer21"]
polygon = PackedVector2Array(0, -13, 4, -13, 7, -12, 10, 9, -8, 8, -4, -11)

[node name="Layer22" type="Sprite2D" parent="Layer20"]
position = Vector2(-97, 93)
texture = ExtResource("24_iyjjv")
region_enabled = true
region_rect = Rect2(231.322, 37.2698, 39.0933, 35.3772)

[node name="StaticBody2D" type="StaticBody2D" parent="Layer20/Layer22"]
position = Vector2(97, -93)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Layer20/Layer22/StaticBody2D"]
position = Vector2(-97, 93)
polygon = PackedVector2Array(0, -13, 4, -13, 7, -12, 10, 9, -8, 8, -4, -11)

[node name="Tornado" parent="." groups=["traps"] instance=ExtResource("25_i78oj")]
position = Vector2(90, 274)

[node name="Tornado2" parent="." groups=["traps"] instance=ExtResource("25_i78oj")]
position = Vector2(163, 316)

[node name="Tornado3" parent="." groups=["traps"] instance=ExtResource("25_i78oj")]
position = Vector2(147, 275)

[node name="Lizer" parent="." groups=["traps"] instance=ExtResource("26_1gd2w")]
position = Vector2(250, 207)

[node name="Lights" parent="." groups=["traps"] instance=ExtResource("27_rxagx")]
position = Vector2(-215, 212)
